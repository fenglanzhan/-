# package.json和package-lock.json的区别

package.json的作用：定义了项目所需的模块，以及项目的配置信息（汇入名称、版本、许可证等元数据）。`npm install`会根据这个配置文件自动下载所需的模块，也就是配置项目所需的运行和开发环境

package-lock.json的作用：`npm init`生成的文件，用来记录当前状态下实际安装的package的具体来源和版本号

```json
// package.json
"dependencies": {
    "@types/node": "^8.0.33",
}
```

此处`^`是定义向后兼容依赖。如果`types/node`版本超过8.0.33，并且在大版本（8）上相同，就允许下载最新的`types/node`包。同一个大版本不同版本号之间存在差异，有事会导致依赖包行为特征又是不兼容。

npm新的版本开始自动生成`package-lok.json`文件，以确保所有的库包与上次安装的完全一样。

`package.json`文件只能锁定大版本，即版本号的第一位，如果有小版本更新，`npm install`时会自动下载最新版本。

一般为了稳定性考虑，我们不随意升级依赖包，因为如果换包导致兼容性bug出现很难排查，所以`package-lock.json`解决包锁定不升级的问题。

如果需要升级`package-lock.json`的库包，需要执行`npm install XXX@xxx.x.x`，即安装具体版本